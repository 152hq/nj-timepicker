!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var s in i)("object"==typeof exports?exports:e)[s]=i[s]}}(window,function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{constructor(){const e=document.createElement("div");return e.className="nj-overlay",e}}class n{constructor(){this.events={},this.listeners={}}on(e,t,i){if("function"!=typeof t)throw"invalid listener.";let s=i||Math.random().toString(36).substring(7);return(this.events[e]=this.events[e]||[]).push(s),this.listeners[s]={cb:t,ev:e},s}once(e,t,i){let s=this.on(e,t,i);this.listeners[s].once=!0}off(e){if(this.events[e])this.events[e].forEach(e=>{delete this.listeners[e]}),delete this.events[e];else if(this.listeners[e]){let t=this.listeners[e];this.events[t.ev].splice(e,1),delete this.listeners[e]}}emit(e){var t=[].slice.call(arguments,1);(this.events[e]||[]).forEach(i=>{let s=this.listeners[i];s.cb(1==t.length?t[0]:t),s.once&&this.off(e)})}}class r{constructor(e){this.config=e,this.resetValue()}build({type:e,headerText:t}){this.element=document.createElement("div"),this.element.className=`nj-${e}-container`,this.createHeader({className:"nj-section-header",innerText:t||e,element:this.element})}createHeader({className:e,innerText:t,element:i}){let s=document.createElement("div");s.className=e,s.innerText=t,i.append(s)}createItem({container:e,innerText:t,disabled:i}){let s=document.createElement("div");s.className="nj-item",s.innerText=t,s.setAttribute("data",t.toString().toLowerCase()),i&&s.setAttribute("disabled","disabled"),s.onclick=this.itemClick.bind(this,s),e.append(s)}itemClick(e){e.hasAttribute("disabled")||(this.currentSelection&&this.currentSelection.classList.remove("selected"),e.classList.add("selected"),this.currentSelection=e,this.currentValue=e.getAttribute("data"))}setValue(e){let t=this.element.querySelector(`div[data="${e}"]`);t&&this.itemClick(t)}getValue(){return this.currentValue}resetValue(){this.currentSelection&&this.currentSelection.classList.remove("selected"),this.currentSelection=this.currentValue=null}}class a extends r{constructor(e){super(e),super.build({type:"hours",headerText:this.config.texts.hours}),this.createButtons()}createButtons(){let e=document.createElement("div");e.className="nj-hours-wrapper";let t="12"==this.config.format?12:23,i="12"==this.config.format?1:0,s=Array.isArray(this.config.disabledHours)?this.config.disabledHours:[];for(let n=i;n<=t;n++)super.createItem({container:e,innerText:n,disabled:s.includes(n)});this.element.append(e)}}class o extends r{constructor(e){super(e),super.build({type:"minutes",headerText:this.config.texts.minutes}),this.createButtons()}createButtons(){let e=document.createElement("div");e.className="nj-minutes-wrapper";let t=this.config.minutes||[0,15,30,45],i=Array.isArray(this.config.disabledMinutes)?this.config.disabledMinutes:[];t.forEach(t=>{"number"==typeof t&&t<60&&super.createItem({container:e,innerText:t,disabled:i.includes(t)})}),this.element.append(e)}}class l extends r{constructor(e){super(e),this.config=e,this.currentSelection=null,this.currentValue=null,super.build({type:"ampm",headerText:this.config.texts.ampm||"AM/PM"}),this.createButtons()}createButtons(){let e=document.createElement("div");e.className="nj-ampm-wrapper",super.createItem({container:e,innerText:"AM"}),super.createItem({container:e,innerText:"PM"}),this.element.append(e)}}class c{constructor(e){this.config=e,this.build()}build(){this.element=document.createElement("div"),this.element.className="nj-header-container",this.config.headerText&&console.warn("headerText is deprecated and will be removed soon. Please use texts.header instead."),this.element.textContent=this.config.headerText||this.config.texts.header}}class u{constructor(e,t){this.config=e,this.emitter=t}build(){return this.element=document.createElement("div"),this.element.className="nj-action-container",this.createButton({type:"save",text:this.config.texts.save||"Save"}),this.createButton({type:"clear",text:this.config.texts.clear||"Clear"}),this.createButton({type:"close",text:this.config.texts.close||"Close"}),this.element}createButton({type:e,text:t}){let i=document.createElement("div");i.className=`nj-action-button nj-action-${e}`,i.innerText=t,i.onclick=()=>{this.emitter.emit("btn-"+t.toLocaleLowerCase())},this.element.append(i)}}i.d(t,"NJTimePicker",function(){return h});class h{constructor(e={}){this.checkTarget(e.targetEl||e.targetID),this.config=this.extend({options:e}),this.emitter=new n,this.build()}get defaultConfig(){return{clickOutsideToClose:!0,disabledMinutes:[],disabledHours:[],format:"12",texts:{header:"",hours:"Hours",minutes:"Minutes",close:"Close",save:"Save",clear:"Clear",ampm:"AM/PM"},headerText:"",id:Math.random().toString(36).substring(7),minutes:[0,15,30,45],targetEl:null,targetID:null}}extend({target:e={},options:t,defaults:i=this.defaultConfig}){return Object.keys(i).forEach(s=>{"object"==typeof i[s]&&"texts"==s?(e[s]={},Object.keys(i[s]).forEach(n=>{e[s][n]=t[s]&&t[s][n]?t[s][n]:i[s][n]})):e[s]=t[s]||i[s]}),e}checkTarget(e){if(e instanceof HTMLElement)this.targetElement=e;else{if(!document.querySelector(`#${e}`))throw"NJPicker requires a valid target element(targetEl) or target element ID(targetID)";this.targetElement=document.querySelector(`#${e}`)}}build(){this.targetElement.addEventListener("click",this.show.bind(this)),this.wrapper=document.createElement("div"),this.wrapper.classList.add("nj-picker"),this.wrapper.setAttribute("id",this.config.id),this.overlay=new s,this.config.clickOutsideToClose&&this.overlay.addEventListener("click",this.hide.bind(this)),this.wrapper.append(this.overlay),this.container=document.createElement("div"),this.container.classList.add("nj-picker-container"),(this.config.headerText||this.config.texts.header)&&(this.header=new c(this.config),this.container.append(this.header.element)),this.buildItems(),this.buildButtons(),this.wrapper.append(this.container),document.body.append(this.wrapper),this.emitter.emit("ready")}buildButtons(){this.buttons=new u(this.config,this.emitter),this.emitter.on("btn-save",()=>{"text"==this.targetElement.type&&"INPUT"===this.targetElement.nodeName&&(this.targetElement.value=this.getValue().fullResult),this.emitter.emit("save",this.getValue()),this.hide()}),this.emitter.on("btn-clear",()=>{this.hours.resetValue(),this.minutes.resetValue(),"12"==this.config.format&&this.ampm.resetValue(),this.emitter.emit("clear")}),this.emitter.on("btn-close",()=>{this.emitter.emit("close"),this.hide()}),this.container.append(this.buttons.build(this.config))}buildItems(){this.hours=new a(this.config),this.container.append(this.hours.element),this.minutes=new o(this.config),this.container.append(this.minutes.element),"12"==this.config.format&&(this.ampm=new l(this.config),this.container.append(this.ampm.element))}getValue(e){let t={hours:this.hours.getValue(),minutes:this.minutes.getValue(),fullResult:void 0};return"12"==this.config.format?(t.ampm=this.ampm.getValue(),t.hours&&t.minutes&&t.ampm&&(t.fullResult=`${("0"+t.hours).slice(-2)}:${("0"+t.minutes).slice(-2)} ${t.ampm}`)):t.hours&&t.minutes&&(t.fullResult=`${("0"+t.hours).slice(-2)}:${("0"+t.minutes).slice(-2)}`),e?t[e]:t||{}}setValue(e){if("string"==typeof e)try{let t=e.split(":");if(void 0!==t[0]&&""!=t[0]&&this.hours.setValue(t[0]),void 0!==t[1]&&""!=t[1]){let e=t[1].split(" ");this.minutes.setValue(e[0]),this.ampm.setValue(e[1])}}catch(e){}else"object"==typeof e&&e.key&&void 0!==e.value&&this[e.key]&&this[e.key].setValue(e.value.toString().toLowerCase())}show(){this.wrapper.classList.add("nj-picker-show"),this.emitter.emit("show")}hide(){this.wrapper.classList.remove("nj-picker-show"),this.emitter.emit("hide")}on(e,t){this.emitter.on(e,t)}}}])});